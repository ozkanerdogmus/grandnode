@model CustomerNotesModel
@using Grand.Web.Models.Customer;
@{
    Layout = "_ColumnsTwo";
    //title
    Html.AddTitleParts(T("PageTitle.Notes").Text);
}
@section left
{
    @await Component.InvokeAsync("CustomerNavigation", new { selectedTabId = CustomerNavigationEnum.Notes })
}

<div class="page account-page auction-list-page container pt-3">
    <div class="d-inline-flex justify-content-between w-100 my-3">
        <a class="js-offcanvas-trigger filter-button" data-offcanvas-trigger="leftSide" href="#leftSide">
            <span class="filter-menu-item">
                <span class="medium-line filter-line"></span>
                <span class="short-line filter-line"></span>
                <span class="long-line filter-line"></span>
            </span>
            <span class="filter-name">@T("Account.Navigation")</span>
        </a>
    </div>
    <h2 class="h2 generalTitle">@T("Account.CustomerNotes")</h2>
    @if (Model.CustomerNoteList.Any())
    {
        foreach (var item in Model.CustomerNoteList)
        {
            <div class="card mb-3">
                <div class="card-header d-sm-inline-flex flex-sm-row d-flex flex-column px-sm-3 px-2">
                    <div class="pr-3">
                        <strong>@item.Title</strong>
                    </div>
                    <div class="ml-auto">
                        <span class="pr-1">@T("Account.CustomerNotes.Createdate")</span>
                        <i class="far fa-clock pr-1 text-muted"></i>
                        <span class="text-muted">@item.CreatedOn</span>
                    </div>
                </div>
                <div class="card-body px-sm-3 px-2">
                    @item.Note
                </div>
                @if (!string.IsNullOrEmpty(item.DownloadId))
                {
                    <div class="d-inline-flex p-sm-3 p-2 border-top">
                        <span class="mb-2">
                            @T("Account.CustomerNotes.Attachment"):
                            <a href="@Url.RouteUrl("GetCustomerNoteFile", new { customerNoteId = item.NoteId})">@T("Customer.Notes.Download")</a>
                        </span>
                    </div>
                }
            </div>
        }
    }
    else
    {
        <div class="alert alert-danger text-danger w-100 text-center no-data">
            @T("Account.CustomerNotes.NoExists")
        </div>
    }
</div>